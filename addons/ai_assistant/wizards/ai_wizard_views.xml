<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <!-- Quick Ask Wizard Form -->
    <record id="view_ai_quick_ask_wizard_form" model="ir.ui.view">
        <field name="name">ai.quick.ask.wizard.form</field>
        <field name="model">ai.quick.ask.wizard</field>
        <field name="arch" type="xml">
            <form string="H·ªèi nhanh AI" class="o_ai_quick_ask_form">
                <div class="alert alert-info" role="alert" style="margin: 0 0 15px 0; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none;">
                    <h3 style="margin: 0; color: white;"><i class="fa fa-robot"/> AI Assistant - H·ªèi ƒë√°p th√¥ng minh</h3>
                    <p style="margin: 5px 0 0 0; opacity: 0.9;">ƒê·∫∑t c√¢u h·ªèi v√† nh·∫≠n c√¢u tr·∫£ l·ªùi chi ti·∫øt t·ª´ AI</p>
                </div>
                
                <group attrs="{'invisible': [('context_info', '=', False)]}" style="margin-bottom: 10px;">
                    <div class="alert alert-secondary" role="alert" style="margin: 0; padding: 10px;">
                        <i class="fa fa-info-circle"/> <strong>Ng·ªØ c·∫£nh:</strong>
                        <field name="context_info" readonly="1" nolabel="1" style="margin-top: 5px;"/>
                    </div>
                </group>
                
                <group>
                    <field name="template_question" widget="radio" options="{'horizontal': true}"/>
                </group>
                
                <group>
                    <field name="question" 
                           placeholder="üí≠ Nh·∫≠p c√¢u h·ªèi c·ªßa b·∫°n t·∫°i ƒë√¢y..." 
                           nolabel="1"
                           attrs="{'readonly': [('template_question', '!=', 'custom')]}"
                           style="min-height: 100px; font-size: 14px;"/>
                </group>
                
                <group attrs="{'invisible': [('answer', '=', False)]}" style="margin-top: 15px;">
                    <div class="alert alert-success" role="alert" style="margin: 0; background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%); color: white; border: none; box-shadow: 0 4px 15px rgba(17, 153, 142, 0.3);">
                        <h4 style="margin: 0 0 10px 0; color: white;"><i class="fa fa-check-circle"/> C√¢u tr·∫£ l·ªùi t·ª´ AI</h4>
                        <div style="background: rgba(255,255,255,0.95); color: #2c3e50; padding: 15px; border-radius: 8px; line-height: 1.6;">
                            <field name="answer" readonly="1" widget="text" nolabel="1"/>
                        </div>
                    </div>
                </group>
                
                <field name="context_model" invisible="1"/>
                <field name="context_id" invisible="1"/>
                
                <footer>
                    <button name="action_ask" 
                            string="ü§ñ H·ªèi AI" 
                            type="object" 
                            class="btn-primary"
                            style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border: none; padding: 8px 20px; font-weight: bold;"/>
                    <button string="ƒê√≥ng" special="cancel" class="btn-secondary"/>
                </footer>
            </form>
        </field>
    </record>

    <!-- Analysis Wizard Form -->
    <record id="view_ai_analysis_wizard_form" model="ir.ui.view">
        <field name="name">ai.analysis.wizard.form</field>
        <field name="model">ai.analysis.wizard</field>
        <field name="arch" type="xml">
            <form string="Ph√¢n t√≠ch AI" class="o_ai_analysis_form">
                <div class="alert alert-info" role="alert" style="margin: 0 0 15px 0; background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; border: none;">
                    <h3 style="margin: 0; color: white;"><i class="fa fa-pie-chart"/> Ph√¢n t√≠ch d·ªØ li·ªáu th√¥ng minh</h3>
                    <p style="margin: 5px 0 0 0; opacity: 0.9;">S·ª≠ d·ª•ng AI ƒë·ªÉ ph√¢n t√≠ch to√†n di·ªán d·ªØ li·ªáu c·ªßa b·∫°n</p>
                </div>
                
                <group>
                    <group>
                        <field name="analysis_type" widget="radio"/>
                    </group>
                    <group>
                        <label for="date_from" string="Kho·∫£ng th·ªùi gian"/>
                        <div class="o_row">
                            <field name="date_from" placeholder="T·ª´ ng√†y"/>
                            <span class="mx-2">ƒë·∫øn</span>
                            <field name="date_to" placeholder="ƒê·∫øn ng√†y"/>
                        </div>
                    </group>
                </group>
                
                <group attrs="{'invisible': [('result', '=', False)]}" style="margin-top: 20px;">
                    <div class="alert" role="alert" style="margin: 0; background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%); border: none; padding: 20px; border-radius: 10px; box-shadow: 0 5px 20px rgba(0,0,0,0.1);">
                        <h4 style="margin: 0 0 15px 0; color: #2c3e50;"><i class="fa fa-lightbulb-o text-warning"/> K·∫øt qu·∫£ ph√¢n t√≠ch AI</h4>
                        <div style="background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.05);">
                            <field name="result" nolabel="1" widget="html"/>
                        </div>
                    </div>
                </group>
                
                <footer style="margin-top: 15px;">
                    <button name="action_analyze" 
                            string="üîç Ph√¢n t√≠ch ngay" 
                            type="object" 
                            class="btn-primary"
                            style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); border: none; padding: 8px 20px; font-weight: bold;"/>
                    <button name="action_save_to_chat" 
                            string="üíæ L∆∞u v√†o Chat" 
                            type="object" 
                            class="btn-success" 
                            attrs="{'invisible': [('result', '=', False)]}"/>
                    <button string="ƒê√≥ng" special="cancel" class="btn-secondary"/>
                </footer>
            </form>
        </field>
    </record>

    <!-- Action for Quick Ask -->
    <record id="action_ai_quick_ask_wizard" model="ir.actions.act_window">
        <field name="name">H·ªèi nhanh AI</field>
        <field name="res_model">ai.quick.ask.wizard</field>
        <field name="view_mode">form</field>
        <field name="target">new</field>
    </record>

    <!-- Action for Analysis -->
    <record id="action_ai_analysis_wizard" model="ir.actions.act_window">
        <field name="name">Ph√¢n t√≠ch AI</field>
        <field name="res_model">ai.analysis.wizard</field>
        <field name="view_mode">form</field>
        <field name="target">new</field>
    </record>
</odoo>
